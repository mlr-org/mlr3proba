<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Integrated Schmid Score Survival Measure — mlr_measures_surv.schmid • mlr3proba</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Integrated Schmid Score Survival Measure — mlr_measures_surv.schmid"><meta name="description" content="Calculates the Integrated Schmid Score (ISS), aka integrated absolute loss."><meta property="og:description" content="Calculates the Integrated Schmid Score (ISS), aka integrated absolute loss."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mlr3proba</a>

    <small class="nav-text text-default me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="external-link dropdown-item" href="https://survival-org.github.io/user2024-survival-mlr3/">userR! 2024 Tutorial</a></li>
    <li><a class="external-link dropdown-item" href="https://mlr3book.mlr-org.com/chapters/chapter13/beyond_regression_and_classification.html#sec-survival">Survival Analysis (mlr3 book)</a></li>
    <li><a class="external-link dropdown-item" href="https://mlr3book.mlr-org.com/chapters/chapter13/beyond_regression_and_classification.html#sec-density">Density Estimation (mlr3 book)</a></li>
    <li><a class="external-link dropdown-item" href="https://mlr-org.com/gallery/technical/2023-10-25-bart-survival/">Survival Modeling using BART</a></li>
    <li><a class="external-link dropdown-item" href="https://towardsdatascience.com/neural-networks-for-survival-analysis-in-r-1e0421584ab">Neural Networks for Survival Analysis</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr3book.mlr-org.com"><span class="fa fa-book"></span> mlr3book</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mlr-org/mlr3proba/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/" aria-label="Mattermost"><span class="fa fa-comments"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/questions/tagged/mlr3" aria-label="Stack Overflow"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://mlr-org.com/" aria-label="mlr3 website"><span class="fa fa-link"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Integrated Schmid Score Survival Measure</h1>
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr3proba/blob/v0.8.0/R/MeasureSurvSchmid.R" class="external-link"><code>R/MeasureSurvSchmid.R</code></a></small>
      <div class="d-none name"><code>mlr_measures_surv.schmid.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the <strong>Integrated Schmid Score</strong> (ISS), aka integrated absolute loss.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This measure has two dimensions: (test set) observations and time points.
For a specific individual \(i\) from the test set, with observed survival
outcome \((t_i, \delta_i)\) (time and censoring indicator) and predicted
survival function \(S_i(t)\), the <em>observation-wise</em> loss integrated across
the time dimension up to the time cutoff \(\tau^*\), is:</p>
<p>$$L_{ISS}(S_i, t_i, \delta_i) = \int^{\tau^*}_0  \frac{S_i(\tau) \text{I}(t_i \leq \tau, \delta=1)}{G(t_i)} + \frac{(1-S_i(\tau)) \text{I}(t_i &gt; \tau)}{G(\tau)} \ d\tau$$</p>
<p>where \(G\) is the Kaplan-Meier estimate of the censoring distribution.</p>
<p>The <strong>re-weighted ISS</strong> (RISS) is:</p>
<p>$$L_{RISS}(S_i, t_i, \delta_i) = \delta_i \frac{\int^{\tau^*}_0  S_i(\tau) \text{I}(t_i \leq \tau) + (1-S_i(\tau)) \text{I}(t_i &gt; \tau) \ d\tau}{G(t_i)}$$</p>
<p>which is always weighted by \(G(t_i)\) and is equal to zero for a censored subject.</p>
<p>To get a single score across all \(N\) observations of the test set, we
return the average of the time-integrated observation-wise scores:
$$\sum_{i=1}^N L(S_i, t_i, \delta_i) / N$$</p>
    </div>
    <div class="section level2">
    <h2 id="dictionary">Dictionary<a class="anchor" aria-label="anchor" href="#dictionary"></a></h2>


<p>This <a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">Measure</a> can be instantiated via the <a href="https://mlr3misc.mlr-org.com/reference/Dictionary.html" class="external-link">dictionary</a>
<a href="https://mlr3.mlr-org.com/reference/mlr_measures.html" class="external-link">mlr_measures</a> or with the associated sugar function <a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr()</a>:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>MeasureSurvSchmid<span class="sc">$</span><span class="fu">new</span>()</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>mlr_measures<span class="sc">$</span><span class="fu">get</span>(<span class="st">"surv.schmid"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">msr</span>(<span class="st">"surv.schmid"</span>)</span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a></h2>

<table class="table table"><tr><td>Id</td><td>Type</td><td>Default</td><td>Levels</td><td>Range</td></tr><tr><td>integrated</td><td>logical</td><td>TRUE</td><td>TRUE, FALSE</td><td>-</td></tr><tr><td>times</td><td>untyped</td><td>-</td><td></td><td>-</td></tr><tr><td>t_max</td><td>numeric</td><td>-</td><td></td><td>\([0, \infty)\)</td></tr><tr><td>p_max</td><td>numeric</td><td>-</td><td></td><td>\([0, 1]\)</td></tr><tr><td>method</td><td>integer</td><td>2</td><td></td><td>\([1, 2]\)</td></tr><tr><td>se</td><td>logical</td><td>FALSE</td><td>TRUE, FALSE</td><td>-</td></tr><tr><td>proper</td><td>logical</td><td>FALSE</td><td>TRUE, FALSE</td><td>-</td></tr><tr><td>eps</td><td>numeric</td><td>0.001</td><td></td><td>\([0, 1]\)</td></tr><tr><td>ERV</td><td>logical</td><td>FALSE</td><td>TRUE, FALSE</td><td>-</td></tr><tr><td>remove_obs</td><td>logical</td><td>FALSE</td><td>TRUE, FALSE</td><td>-</td></tr></table></div>
    <div class="section level2">
    <h2 id="meta-information">Meta Information<a class="anchor" aria-label="anchor" href="#meta-information"></a></h2>


<ul><li><p>Type: <code>"surv"</code></p></li>
<li><p>Range: \([0, \infty)\)</p></li>
<li><p>Minimize: <code>TRUE</code></p></li>
<li><p>Required prediction: <code>distr</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="parameter-details">Parameter details<a class="anchor" aria-label="anchor" href="#parameter-details"></a></h2>


<ul><li><p><code>integrated</code> (<code>logical(1)</code>)<br>
If <code>TRUE</code> (default), returns the integrated score (eg across
time points); otherwise, not integrated (eg at a single time point).</p></li>
</ul><ul><li><p><code>times</code> (<code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>)<br>
If <code>integrated == TRUE</code> then a vector of time-points over which to integrate the score.
If <code>integrated == FALSE</code> then a single time point at which to return the score.</p></li>
</ul><ul><li><p><code>t_max</code> (<code>numeric(1)</code>)<br>
Cutoff time \(\tau^*\) (i.e. time horizon) to evaluate the measure up to
(truncate \(S(t)\)).
Mutually exclusive with <code>p_max</code> or <code>times</code>.
It's recommended to set <code>t_max</code> to avoid division by <code>eps</code>, see "Time Cutoff Details" section.
If <code>t_max</code> is not specified, an <code>Inf</code> time horizon is assumed.</p></li>
</ul><ul><li><p><code>p_max</code> (<code>numeric(1)</code>)<br>
The proportion of censoring to integrate up to in the given dataset.
Mutually exclusive with <code>times</code> or <code>t_max</code>.</p></li>
</ul><ul><li><p><code>method</code> (<code>integer(1)</code>)<br>
If <code>integrate == TRUE</code>, this selects the integration weighting method.
<code>method == 1</code> corresponds to weighting each time-point equally
and taking the mean score over discrete time-points.
<code>method == 2</code> corresponds to calculating a mean weighted by the
difference between time-points.
<code>method == 2</code> is the default value, to be in line with other packages.</p></li>
</ul><ul><li><p><code>se</code> (<code>logical(1)</code>)<br>
If <code>TRUE</code> then returns standard error of the measure otherwise
returns the mean across all individual scores, e.g. the mean of
the per observation scores.
Default is <code>FALSE</code> (returns the mean).</p></li>
</ul><ul><li><p><code>proper</code> (<code>logical(1)</code>)<br>
If <code>TRUE</code> then weights scores by the censoring distribution at
the observed event time, which results in a strictly proper scoring
rule if censoring and survival time distributions are independent
and a sufficiently large dataset is used, see Sonabend et al. (2024).
If <code>FALSE</code> then weights scores by the Graf method which is the
more common usage but the loss is not proper.
See "Properness" section for more details.</p></li>
</ul><ul><li><p><code>eps</code> (<code>numeric(1)</code>)<br>
Very small number to substitute zero values in order to prevent errors
in e.g. log(0) and/or division-by-zero calculations.
Default value is 0.001.</p></li>
</ul><ul><li><p><code>ERV</code> (<code>logical(1)</code>)<br>
If <code>TRUE</code> then the Explained Residual Variation method is applied, which
means the score is standardized against a Kaplan-Meier baseline.
Default is <code>FALSE</code>.</p></li>
</ul><ul><li><p><code>remove_obs</code> (<code>logical(1)</code>)<br>
Only effective when <code>t_max</code> or <code>p_max</code> is provided. Default is <code>FALSE</code>.
If <code>TRUE</code>, then we <strong>remove test observations</strong> for which the observed time (event or censoring) is strictly larger than <code>t_max</code>.
See "Time Cutoff Details" section for more details.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="properness">Properness<a class="anchor" aria-label="anchor" href="#properness"></a></h2>


<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>RISS is strictly proper when the censoring distribution is independent
of the survival distribution and when \(G(t)\) is fit on a sufficiently large dataset.
ISS is never proper. Use <code>proper = FALSE</code> for ISS and
<code>proper = TRUE</code> for RISS.
Results may be very different if many observations are censored at the last
observed time due to division by \(1/eps\) in <code>proper = TRUE</code>.</p>
<p>See Sonabend et al. (2024) for more details.
The use of <code>proper = TRUE</code> is considered experimental and should be used with caution.</p>
    </div>
    <div class="section level2">
    <h2 id="time-points-used-for-evaluation">Time points used for evaluation<a class="anchor" aria-label="anchor" href="#time-points-used-for-evaluation"></a></h2>


<p>If the <code>times</code> argument is not specified (<code>NULL</code>), then the unique (and
sorted) time points from the <strong>test set</strong> are used for evaluation of the
time-integrated score.
This was a design decision due to the fact that different predicted survival
distributions \(S(t)\) usually have a <strong>discretized time domain</strong> which may
differ, i.e. in the case the survival predictions come from different survival
learners.
Essentially, using the same set of time points for the calculation of the score
minimizes the bias that would come from using different time points.
We note that \(S(t)\) is by default constantly interpolated for time points that fall
outside its discretized time domain.</p>
<p>Naturally, if the <code>times</code> argument is specified, then exactly these time
points are used for evaluation.
A warning is given to the user in case some of the specified <code>times</code> fall outside
of the time point range of the test set.
The assumption here is that if the test set is large enough, it should have a
time domain/range similar to the one from the train set, and therefore time
points outside that domain might lead to interpolation or extrapolation of \(S(t)\).</p>
    </div>
    <div class="section level2">
    <h2 id="implementation-differences">Implementation differences<a class="anchor" aria-label="anchor" href="#implementation-differences"></a></h2>



<p>If comparing the integrated graf score to other packages, e.g.
<a href="https://CRAN.R-project.org/package=pec" class="external-link"><span class="pkg">pec</span></a>, then <code>method = 2</code> should be used. However the results may
still be very slightly different as this package uses <code>survfit</code> to estimate
the censoring distribution, in line with the Graf 1999 paper; whereas some
other packages use <code>prodlim</code> with <code>reverse = TRUE</code> (meaning Kaplan-Meier is
not used).</p>
    </div>
    <div class="section level2">
    <h2 id="data-used-for-estimating-censoring-distribution">Data used for Estimating Censoring Distribution<a class="anchor" aria-label="anchor" href="#data-used-for-estimating-censoring-distribution"></a></h2>



<p>If <code>task</code> and <code>train_set</code> are passed to <code>$score</code> then \(G(t)\) is fit using
<strong>all observations</strong> from the train set, otherwise the test set is used.
Using the train set is likely to reduce any bias caused by calculating parts of the
measure on the test data it is evaluating.
Also usually it means that more data is used for fitting the censoring
distribution \(G(t)\) via the Kaplan-Meier.
The training data is automatically used in scoring resamplings.</p>
    </div>
    <div class="section level2">
    <h2 id="time-cutoff-details">Time Cutoff Details<a class="anchor" aria-label="anchor" href="#time-cutoff-details"></a></h2>



<p>If <code>t_max</code> or <code>p_max</code> is given, then the predicted survival function \(S(t)\) is
truncated at the time cutoff for all observations.</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Also, if <code>remove_obs = TRUE</code>, <strong>observations with observed times</strong> \(t &gt; t_{max}\) <strong>are removed</strong>.
This data preprocessing step mitigates issues that arise when using IPCW
in cases of administrative censoring, see Kvamme et al. (2023).
Practically, this step, along with setting a time cutoff <code>t_max</code>, helps mitigate
the <strong>inflation of the score</strong> observed when an observation is censored at the
final time point. In such cases, \(G(t) = 0\), triggering the use of a
small constant <code>eps</code> instead.
This inflation particularly impacts the proper version of the score, see Sonabend et al. (2024)
for more details.
Note that the <code>t_max</code> and <code>remove_obs</code> parameters do not affect the estimation
of the censoring distribution, i.e. <strong>always all the observations are used for estimating</strong> \(G(t)\).</p>
<p>If <code>remove_obs = FALSE</code>, inflated scores may occur. While this aligns more closely
with the definitions presented in the original papers, it can lead to misleading
evaluation and poor optimization outcomes when using this score for model tuning.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Schemper, Michael, Henderson, Robin (2000).
“Predictive Accuracy and Explained Variation in Cox Regression.”
<em>Biometrics</em>, <b>56</b>, 249–255.
<a href="https://doi.org/10.1002/sim.1486" class="external-link">doi:10.1002/sim.1486</a>
.</p>
<p>Schmid, Matthias, Hielscher, Thomas, Augustin, Thomas, Gefeller, Olaf (2011).
“A Robust Alternative to the Schemper-Henderson Estimator of Prediction Error.”
<em>Biometrics</em>, <b>67</b>(2), 524–535.
<a href="https://doi.org/10.1111/j.1541-0420.2010.01459.x" class="external-link">doi:10.1111/j.1541-0420.2010.01459.x</a>
.</p>
<p>Sonabend, Raphael, Zobolas, John, Kopper, Philipp, Burk, Lukas, Bender, Andreas (2024).
“Examining properness in the external validation of survival models with squared and logarithmic losses.”
<a href="https://arxiv.org/abs/2212.05260v2" class="external-link">https://arxiv.org/abs/2212.05260v2</a>.</p>
<p>Kvamme, Havard, Borgan, Ornulf (2023).
“The Brier Score under Administrative Censoring: Problems and a Solution.”
<em>Journal of Machine Learning Research</em>, <b>24</b>(2), 1–26.
ISSN 1533-7928, <a href="http://jmlr.org/papers/v24/19-1030.html" class="external-link">http://jmlr.org/papers/v24/19-1030.html</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other survival measures:
<code><a href="mlr_measures_surv.calib_alpha.html">mlr_measures_surv.calib_alpha</a></code>,
<code><a href="mlr_measures_surv.calib_beta.html">mlr_measures_surv.calib_beta</a></code>,
<code><a href="mlr_measures_surv.calib_index.html">mlr_measures_surv.calib_index</a></code>,
<code><a href="mlr_measures_surv.chambless_auc.html">mlr_measures_surv.chambless_auc</a></code>,
<code><a href="mlr_measures_surv.cindex.html">mlr_measures_surv.cindex</a></code>,
<code><a href="mlr_measures_surv.dcalib.html">mlr_measures_surv.dcalib</a></code>,
<code><a href="mlr_measures_surv.graf.html">mlr_measures_surv.graf</a></code>,
<code><a href="mlr_measures_surv.hung_auc.html">mlr_measures_surv.hung_auc</a></code>,
<code><a href="mlr_measures_surv.intlogloss.html">mlr_measures_surv.intlogloss</a></code>,
<code><a href="mlr_measures_surv.logloss.html">mlr_measures_surv.logloss</a></code>,
<code><a href="mlr_measures_surv.mae.html">mlr_measures_surv.mae</a></code>,
<code><a href="mlr_measures_surv.mse.html">mlr_measures_surv.mse</a></code>,
<code><a href="mlr_measures_surv.nagelk_r2.html">mlr_measures_surv.nagelk_r2</a></code>,
<code><a href="mlr_measures_surv.oquigley_r2.html">mlr_measures_surv.oquigley_r2</a></code>,
<code><a href="mlr_measures_surv.rcll.html">mlr_measures_surv.rcll</a></code>,
<code><a href="mlr_measures_surv.rmse.html">mlr_measures_surv.rmse</a></code>,
<code><a href="mlr_measures_surv.song_auc.html">mlr_measures_surv.song_auc</a></code>,
<code><a href="mlr_measures_surv.song_tnr.html">mlr_measures_surv.song_tnr</a></code>,
<code><a href="mlr_measures_surv.song_tpr.html">mlr_measures_surv.song_tpr</a></code>,
<code><a href="mlr_measures_surv.uno_auc.html">mlr_measures_surv.uno_auc</a></code>,
<code><a href="mlr_measures_surv.uno_tnr.html">mlr_measures_surv.uno_tnr</a></code>,
<code><a href="mlr_measures_surv.uno_tpr.html">mlr_measures_surv.uno_tpr</a></code>,
<code><a href="mlr_measures_surv.xu_r2.html">mlr_measures_surv.xu_r2</a></code></p>
<p>Other Probabilistic survival measures:
<code><a href="mlr_measures_surv.graf.html">mlr_measures_surv.graf</a></code>,
<code><a href="mlr_measures_surv.intlogloss.html">mlr_measures_surv.intlogloss</a></code>,
<code><a href="mlr_measures_surv.logloss.html">mlr_measures_surv.logloss</a></code>,
<code><a href="mlr_measures_surv.rcll.html">mlr_measures_surv.rcll</a></code></p>
<p>Other distr survival measures:
<code><a href="mlr_measures_surv.calib_alpha.html">mlr_measures_surv.calib_alpha</a></code>,
<code><a href="mlr_measures_surv.calib_index.html">mlr_measures_surv.calib_index</a></code>,
<code><a href="mlr_measures_surv.dcalib.html">mlr_measures_surv.dcalib</a></code>,
<code><a href="mlr_measures_surv.graf.html">mlr_measures_surv.graf</a></code>,
<code><a href="mlr_measures_surv.intlogloss.html">mlr_measures_surv.intlogloss</a></code>,
<code><a href="mlr_measures_surv.logloss.html">mlr_measures_surv.logloss</a></code>,
<code><a href="mlr_measures_surv.rcll.html">mlr_measures_surv.rcll</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="super-classes">Super classes<a class="anchor" aria-label="anchor" href="#super-classes"></a></h2>
    <p><code><a href="https://mlr3.mlr-org.com/reference/Measure.html" class="external-link">mlr3::Measure</a></code> -&gt; <code><a href="MeasureSurv.html">mlr3proba::MeasureSurv</a></code> -&gt; <code>MeasureSurvSchmid</code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-MeasureSurvSchmid-new"><code>MeasureSurvSchmid$new()</code></a></p></li>
<li><p><a href="#method-MeasureSurvSchmid-clone"><code>MeasureSurvSchmid$clone()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="mlr3" data-topic="Measure" data-id="aggregate"><a href="https://mlr3.mlr-org.com/reference/Measure.html#method-aggregate"><code>mlr3::Measure$aggregate()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Measure" data-id="format"><a href="https://mlr3.mlr-org.com/reference/Measure.html#method-format"><code>mlr3::Measure$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Measure" data-id="help"><a href="https://mlr3.mlr-org.com/reference/Measure.html#method-help"><code>mlr3::Measure$help()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Measure" data-id="print"><a href="https://mlr3.mlr-org.com/reference/Measure.html#method-print"><code>mlr3::Measure$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="mlr3" data-topic="Measure" data-id="score"><a href="https://mlr3.mlr-org.com/reference/Measure.html#method-score"><code>mlr3::Measure$score()</code></a></span></li>
</ul></details></p><hr><a id="method-MeasureSurvSchmid-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Creates a new instance of this <a href="https://r6.r-lib.org/reference/R6Class.html" class="external-link">R6</a> class.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/mlr_measures_surv.schmid.html">MeasureSurvSchmid</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>ERV <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>ERV</code></dt>
<dd><p>(<code>logical(1)</code>)<br>
Standardize measure against a Kaplan-Meier baseline
(Explained Residual Variation)</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-MeasureSurvSchmid-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">MeasureSurvSchmid</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlr3.mlr-org.com" class="external-link">mlr3</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Define a survival Task</span></span></span>
<span class="r-in"><span><span class="va">task</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">tsk</a></span><span class="op">(</span><span class="st">"lung"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create train and test set</span></span></span>
<span class="r-in"><span><span class="va">part</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/partition.html" class="external-link">partition</a></span><span class="op">(</span><span class="va">task</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Train Cox learner on the train set</span></span></span>
<span class="r-in"><span><span class="va">cox</span> <span class="op">=</span> <span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">lrn</a></span><span class="op">(</span><span class="st">"surv.coxph"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cox</span><span class="op">$</span><span class="fu">train</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Make predictions for the test set</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">=</span> <span class="va">cox</span><span class="op">$</span><span class="fu">predict</span><span class="op">(</span><span class="va">task</span>, row_ids <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">test</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, G(t) calculated using the test set</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3138248 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, G(t) calculated using the train set (always recommended)</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3083418 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, ERV score (comparing with KM baseline)</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, ERV <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  0.09610997 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS at specific time point</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, times <span class="op">=</span> <span class="fl">365</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.4198548 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS at multiple time points (integrated)</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">125</span>, <span class="fl">365</span>, <span class="fl">450</span><span class="op">)</span>, integrated <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    0.377236 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, use time cutoff</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, t_max <span class="op">=</span> <span class="fl">700</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3411314 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, use time cutoff and also remove observations</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, t_max <span class="op">=</span> <span class="fl">700</span>, remove_obs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3268083 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ISS, use time cutoff corresponding to specific proportion of censoring on the test set</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, p_max <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3661354 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># RISS, G(t) calculated using the train set</span></span></span>
<span class="r-in"><span><span class="va">p</span><span class="op">$</span><span class="fu">score</span><span class="op">(</span><span class="fu"><a href="https://mlr3.mlr-org.com/reference/mlr_sugar.html" class="external-link">msr</a></span><span class="op">(</span><span class="st">"surv.schmid"</span>, proper <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, task <span class="op">=</span> <span class="va">task</span>, train_set <span class="op">=</span> <span class="va">part</span><span class="op">$</span><span class="va">train</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> surv.schmid </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   0.3050013 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Raphael Sonabend, Franz Kiraly, Michel Lang, John Zobolas, Philip Studener.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

