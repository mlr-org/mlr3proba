# PipeOpPredClassifSurvDiscTime

Transform
[PredictionClassif](https://mlr3.mlr-org.com/reference/PredictionClassif.html)
to
[PredictionSurv](https://mlr3proba.mlr-org.com/reference/PredictionSurv.md)
by converting event probabilities of a pseudo status variable (discrete
time hazards) to survival probabilities using the product rule (Tutz et
al. 2016):

\$\$P_k = p_k\cdot ... \cdot p_1\$\$

Where:

- We assume that continuous time is divided into time intervals \\\[0,
  t_1), \[t_1, t_2), ..., \[t_n, \infty)\\

- \\P_k = P(T \> t_k)\\ is the survival probability at time \\t_k\\

- \\h_k\\ is the discrete-time hazard (classifier prediction), i.e. the
  conditional probability for an event in the \\k\\-interval.

- \\p_k = 1 - h_k = P(T \ge t_k \| T \ge t\_{k-1})\\

## Dictionary

This [PipeOp](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html)
can be instantiated via the
[dictionary](https://mlr3misc.mlr-org.com/reference/Dictionary.html)
[mlr3pipelines::mlr_pipeops](https://mlr3pipelines.mlr-org.com/reference/mlr_pipeops.html)
or with the associated sugar function
[`mlr3pipelines::po()`](https://mlr3pipelines.mlr-org.com/reference/po.html):

    PipeOpPredClassifSurvDiscTime$new()
    mlr_pipeops$get("trafopred_classifsurv_disctime")
    po("trafopred_classifsurv_disctime")

## Input and Output Channels

The input is a
[PredictionClassif](https://mlr3.mlr-org.com/reference/PredictionClassif.html)
and a [data.table](https://rdrr.io/pkg/data.table/man/data.table.html)
with the transformed data both generated by
[PipeOpTaskSurvClassifDiscTime](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafotask_survclassif_disctime.md).
The output is the input
[PredictionClassif](https://mlr3.mlr-org.com/reference/PredictionClassif.html)
transformed to a
[PredictionSurv](https://mlr3proba.mlr-org.com/reference/PredictionSurv.md).
Only works during prediction phase.

## References

Tutz, Gerhard, Schmid, Matthias (2016). *Modeling Discrete Time-to-Event
Data*, series Springer Series in Statistics. Springer International
Publishing. ISBN 978-3-319-28156-8 978-3-319-28158-2,
<http://link.springer.com/10.1007/978-3-319-28158-2>.

## See also

[pipeline_survtoclassif_disctime](https://mlr3proba.mlr-org.com/reference/mlr_graphs_survtoclassif_disctime.md)

Other Transformation PipeOps:
[`mlr_pipeops_trafopred_classifsurv_IPCW`](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafopred_classifsurv_IPCW.md),
[`mlr_pipeops_trafopred_regrsurv_pem`](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafopred_regrsurv_pem.md),
[`mlr_pipeops_trafotask_survclassif_IPCW`](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafotask_survclassif_IPCW.md),
[`mlr_pipeops_trafotask_survclassif_disctime`](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafotask_survclassif_disctime.md),
[`mlr_pipeops_trafotask_survregr_pem`](https://mlr3proba.mlr-org.com/reference/mlr_pipeops_trafotask_survregr_pem.md)

## Super class

[`mlr3pipelines::PipeOp`](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html)
-\> `PipeOpPredClassifSurvDiscTime`

## Active bindings

- `predict_type`:

  (`character(1)`)  
  Returns the active predict type of this PipeOp, which is `"crank"`

## Methods

### Public methods

- [`PipeOpPredClassifSurvDiscTime$new()`](#method-PipeOpPredClassifSurvDiscTime-new)

- [`PipeOpPredClassifSurvDiscTime$clone()`](#method-PipeOpPredClassifSurvDiscTime-clone)

Inherited methods

- [`mlr3pipelines::PipeOp$help()`](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html#method-help)
- [`mlr3pipelines::PipeOp$predict()`](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html#method-predict)
- [`mlr3pipelines::PipeOp$print()`](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html#method-print)
- [`mlr3pipelines::PipeOp$train()`](https://mlr3pipelines.mlr-org.com/reference/PipeOp.html#method-train)

------------------------------------------------------------------------

### Method `new()`

Creates a new instance of this
[R6](https://r6.r-lib.org/reference/R6Class.html) class.

#### Usage

    PipeOpPredClassifSurvDiscTime$new(id = "trafopred_classifsurv_disctime")

#### Arguments

- `id`:

  (character(1))  
  Identifier of the resulting object.

------------------------------------------------------------------------

### Method `clone()`

The objects of this class are cloneable with this method.

#### Usage

    PipeOpPredClassifSurvDiscTime$clone(deep = FALSE)

#### Arguments

- `deep`:

  Whether to make a deep clone.
